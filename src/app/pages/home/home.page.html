<ion-menu side="start" menuId="first">
    <ion-content class="menu" no-padding>
        <ion-list no-padding>
            <ion-item class="list-item" (click)="Dashboard()">
                <i class="fas fa-home"></i>
                <ion-label class="lbl-style-m">Dashboard </ion-label>
            </ion-item>

            <ion-item class="list-item" (click)="tableBooking()">
                <i class="fas fa-utensils"></i>
                <ion-label class="lbl-style-m">Table Booking</ion-label>
            </ion-item>

            <ion-item class="list-item" (click)="allClientList()">
                <i class="fas fa-users"></i>
                <ion-label class="lbl-style-m">All Client List</ion-label>
            </ion-item>

            <ion-item class="list-item" (click)="allOrderList()">
                <i class="fas fa-list-ol"></i>
                <ion-label class="lbl-style-m">All Order List</ion-label>
            </ion-item>

            <ion-item class="list-item" (click)="Profile()">
                <i class="fas fa-user"></i>
                <ion-label class="lbl-style-m">Profile</ion-label>
            </ion-item>

            <ion-item class="list-item" (click)="printSetup()">
                <i class="fas fa-print"></i>
                <ion-label class="lbl-style-m">Printer Setup</ion-label>
            </ion-item>
            <ion-item class="list-item" (click)="printOptions()">
                <i class="fas fa-print"></i>
                <ion-label class="lbl-style-m">Printer Options</ion-label>
            </ion-item>

            <ion-item class="list-item" (click)="logout(true)">
                <i class="fas fa-sign-out-alt"></i>
                <ion-label class="lbl-style-m">Logout</ion-label>
            </ion-item>

        </ion-list>
    </ion-content>
</ion-menu>

<ion-router-outlet main>
    <ion-header>
        <ion-toolbar>
            <ion-title>
                <ion-grid style="padding: 5px 8px !important;" no-padding class="header padding-0">
                    <ion-row style="align-items: center;">
                        <ion-col size="10">
                            <div class="page_had">
                                <ion-buttons (click)="openFirst()" no-padding>
                                    <ion-img style="display: inline-block; width: 25px;margin-right: 5px;" class="img" src="../../../assets/images/whitemenu.png"></ion-img>
                                </ion-buttons>
                                <ion-label class="page_title">Dashbaord</ion-label>
                            </div>
                        </ion-col>
                        <ion-col size="1">
                            <ion-buttons no-padding (click)="gotoMerchant()">
                                <i class="fa fa-external-link"></i>
                            </ion-buttons>
                        </ion-col>
                        <ion-col size="1">
                            <ion-buttons no-padding (click)="printer()">
                                <i class="fas fa-print"></i>
                            </ion-buttons>
                        </ion-col>

                    </ion-row>
                </ion-grid>
            </ion-title>
        </ion-toolbar>
    </ion-header>

    <ion-content>
        <ion-grid class="container">
            <ion-row class="tab_list">
                <ion-col class="tab_nav">
                    <ion-label class="active">TAKEAWAYS</ion-label>
                </ion-col>
                <ion-col class="tab_nav">
                    <ion-label>TABLE BOOKING</ion-label>
                </ion-col>
            </ion-row>

            <ion-row class="qtylist">
                <ion-col size="6">
                    <div class="qty_box">
                        <ion-label class="qty-title">Despatch Time</ion-label>
                        <div class="qty-box">
                            <ion-img class="button_img" src="../../../assets/images/btnminus.png" (click)="DTqty(DTQty, 'min') "></ion-img>
                            <ion-label class="red_tittle">{{DTQty}}</ion-label>
                            <ion-img class="button_img" src="../../../assets/images/btnplus.png" (click)="DTqty(DTQty, 'add') "></ion-img>
                        </div>
                        <ion-label class="qty-content">Minutes</ion-label>
                    </div>
                </ion-col>
                <ion-col size="6">
                    <div class="qty_box">
                        <ion-label class="qty-title">Collection Time</ion-label>
                        <div class="qty-box">
                            <ion-img class="button_img" src="../../../assets/images/btnminus.png" (click)="CTqty(CTQty, 'min') "></ion-img>
                            <ion-label class="red_tittle">{{CTQty}}</ion-label>
                            <ion-img class="button_img" src="../../../assets/images/btnplus.png" (click)="CTqty(CTQty, 'add') "></ion-img>
                        </div>
                        <ion-label class="qty-content">Minutes</ion-label>
                    </div>
                </ion-col>
            </ion-row>

            <ion-row>
                <ion-col size="6">
                    <ion-label class="page_title">Select Status</ion-label>
                    <div class="mt-5">
                        <ion-select okText="Ok" placeholder="All status" class="customm_select" cancelText="Dismiss" (ionChange)="onChangeOrderType($event.target.value)">
                            <ion-select-option *ngFor="let status of statusList" value="{{status}}">{{status}}</ion-select-option>
                        </ion-select>
                    </div>
                </ion-col>
                <ion-col size="6">
                    <ion-label class="page_title">Order Type</ion-label>
                    <div class="mt-5">
                        <!-- formControlName='agent' -->
                        <ion-select okText="Ok" placeholder="All Type" class="customm_select" cancelText="Dismiss" (ionChange)="onChangeOrderType($event.target.value)">
                            <ion-select-option *ngFor="let item of orderTypeList" value="{{item}}">{{item}}</ion-select-option>
                        </ion-select>
                    </div>
                </ion-col>
            </ion-row>
        </ion-grid>

        <ion-grid class="container" style="margin-bottom: 50px; border-radius: 20px 20px 0 0 !important; background: white !important;">
            <ion-row class="p-0">
                <ion-col class="p-0" size='12'>
                    <ion-row class="button_box" style="margin-top: 10px;">
                        <ion-col>
                            <ion-button class="btn-red" (click)="driverSummary()">Driver Summary</ion-button>
                        </ion-col>
                        <ion-col>
                            <ion-button class="btn-red" (click)="ordrerSummary()">Order Summary</ion-button>
                        </ion-col>
                    </ion-row>

                    <ion-row class="p-0">
                        <ion-col class="p-0">
                            <div class="search_box">
                                <ion-img class="search_icon" src="../../../assets/images/search.png"></ion-img>
                                <ion-input type="search" placeholder="Search" [(ngModel)]="machineName" (ionChange)="ionChangeUser()"></ion-input>
                            </div>
                        </ion-col>
                    </ion-row>

                    <ion-row class="p-0">
                        <ion-col class="p-0">
                            <ion-label class="d-block mt-10">Today's Orders</ion-label>
                        </ion-col>
                    </ion-row>

                    <ion-row class="box-black" *ngFor="let order of TodayOrderList ;">
                        <ion-col class="list_cols">
                            <ion-img style="position: absolute; top: 0px; left: 0px; width: 40px; z-index: 1;" src="../../../assets/images/new.png" *ngIf="order.viewed=='1'"></ion-img>
                            <ion-row class="content_row">
                                <ion-col class="right_col">
                                    <div class="info_box">
                                        <div class="info_sta" [ngClass]="{'orange': order.status_raw === 'pending', 'green' : order.status_raw === 'accepted','red' : order.status_raw === 'cancelled'}">
                                            <img class="sta-img" src="../../../assets/images/scotter.png" *ngIf="order.trans_type_raw=='delivery'" />
                                            <img class="sta-img" src="../../../assets/images/bag.png" *ngIf="order.trans_type_raw=='pickup'" />
                                        </div>

                                        <div class="info_content">
                                            <ion-label class="d-block title f-15">{{order.customer_name}}</ion-label>
                                            <ion-label class="d-block">{{order.total_w_tax_prety}}</ion-label>
                                        </div>
                                    </div>
                                </ion-col>
                                <ion-col class="left_col" style="text-align: right;">
                                    <ion-label class="d-block">Order ID : #{{order.order_id}}</ion-label>
                                    <ion-label class="d-block">{{order.delivery_date}} - {{order.delivery_time}}</ion-label>
                                </ion-col>
                            </ion-row>

                            <ion-row>
                                <ion-col>
                                    <ion-button class="btn-orange">{{order.trans_type_raw=="pickup"?'Collection':order.trans_type_raw}}</ion-button>
                                </ion-col>
                                <ion-col>
                                    <ion-button class="btn-blue">{{order.payment_type}}</ion-button>
                                </ion-col>
                                <ion-col>
                                    <ion-button [ngClass]="{'btn-orange': order.status === 'Pending',
                                     'btn-green' : order.status === 'Delivered',
                                     'btn-orange' : order.status === 'Refunded Fully',
                                     'btn-orange' : order.status === 'Refunded Partially',
                                     'btn-green' : order.status === 'Accepted',
                                     'btn-blue' : order.status === 'Assigned',
                                     'btn-redd' : order.status === 'Cancelled'}">
                                        {{order.status}}</ion-button>
                                </ion-col>
                            </ion-row>

                        </ion-col>

                    </ion-row>

                </ion-col>
            </ion-row>
        </ion-grid>


        <ion-grid class="container empty-list-box" *ngIf="TodayOrderList?.length == 0">
            <ion-row class="p-0">
                <ion-col size="12" class="p-0">
                    <ion-label class="empty-list">No Current Orders</ion-label>
                </ion-col>
            </ion-row>
        </ion-grid>

    </ion-content>
</ion-router-outlet>